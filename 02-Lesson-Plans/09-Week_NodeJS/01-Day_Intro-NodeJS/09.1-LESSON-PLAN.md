# 09.1 Lesson Plan: Introduction to Node.js (6:30 PM)

## Overview

This lesson introduces Node.js and the concepts of standard library, modules, npm, and package.json. Students will build an interactive command line application that outputs .json files using `fs` and `Inquirer`.

## Instructor Notes

* Complete activities `01-Ins_Node-Demo` through `15-Stu_Inquirer-Users`

* Ensure that students have [downloaded and installed the LTS version of Node](https://nodejs.org/en/). The version number does not matter, just that it is the LTS version.

* The transition from client-side development to Node.js can be challenging for students. This lesson plan is a gentle introduction to the fundamentals.

* If students continually question why they are learning Node.js, emphasize the client-server model.


## Learning Objectives

* Explain the client-server model

* Run Node.js applications from the command line with arguments

* Import standard library packages

* Initialize projects and install third-party packages using npm

* Build interactive CLI applications with Inquirer


## Slides

[09.1: Introduction to Node.js](https://docs.google.com/presentation/d/1hXNcmzYqwlhgM-C78vNFKwX10PhW_iwIo0guwzHO48c/edit?usp=sharing)


## Time Tracker

[Unit 09-NodeJS Time Tracker](https://docs.google.com/spreadsheets/d/1V7ZEKIhi-Gr7r1nokTZyuiDK5T1uDaqTqBa05NjzJ8w/edit?usp=sharing)

- - -

## Class Instruction

### 1. Instructor Do: Introduction to Node.js (10 mins)

* Welcome students to class.

* Open the [slide deck](https://docs.google.com/presentation/d/1hXNcmzYqwlhgM-C78vNFKwX10PhW_iwIo0guwzHO48c/edit?usp=sharing) and follow these prompts with their corresponding slides:

  * **Introduction to Node.js (Title)**: Today's class is a miletsone as we make the transition from writing client-side code to server-side code using Node.js. 

  * **What is Full Stack Web Development?**: What does it mean to be a full stack web developer?  
  
  * **Full Stack Web Development**: Full stack web development is understanding the suite of tools required to build both the front _and_ back ends of a web application. 

  * **How much of the stack do we know?**: What have we learned up to this point? 
  
  * **Client-side**: The three primary components of client-side code are HTML, CSS & JavaScript. 

  * **What is a client?**: Where do HTML, CSS and JavaScript come together?

  * **Definition of Web Client**: A client is both computer hardware and software that makes requests to a server. 

  * **What is GitHub Pages doing?**: What happens when we _deploy_ our projects to GitHub Pages?'

  * **Awesome Project Deployed to GitHub Pages**: GitHub Pages is _serving_ content to clients.

  * **What is a server?**: What does it mean to "server" content? 

  * **Server Definition**: Depending on the context, a server is both the physical hardware _and_ software that hears requests from users and returns something, such as an HTML or image file, or completes a process. 

  * **What is the Client-Server Model?**: How do clients and servers interact?

  * **The Client-Server Model**: In modern web applications, there is constant back-and-forth communication between the visuals displayed on the user‚Äôs browser (the front-end) and the data and logic stored on the server (the back-end). Clients make requests, servers respond.

  * **What is Node.js?**: How do we program a server?

  * **Node.js**: Node allows us to run JavaScript _outside_ the browser as well as on a server. Since Node is purely JavaScript, a front-end JavaScript developer can also work on server side code without having to learn a new programming language.


### 2. Instructor Do: Node Check (5 mins)

* Ask students to open a command line prompt.

* Confirm that each student has Node installed by entering `node` at the command line and pressing return. Then ask them to enter `1+1` and hit return.

* If any students encounter errors, ask them to raise their hand so a TA can assist them in installing Node.

* Instruct students to press `ctrl+c` to exit the Node prompt. (Important as many students will not do this.)

### 3. Instructor Do: Node Demo (5 mins)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è The `node` command is used to run JavaScript applications from the command line

* Navigate to [01-Ins_Node-Demo](../../../../01-Class-Content/09-NodeJS/01-Activities/01-Ins_Node-Demo) from the command line, run: `node index.js` and explain the following point(s):

  * üîë We run a Node.js application using the command `node` and the name of the file we want to run.

  * This program printed the string "JavaScript outside the browser?!" in the command window.

* Ask the students the following question(s):

  * ‚òùÔ∏è If our application returns a string, what do we think the code looks like?

  * üôã The code is probably a JavaScript `console.log` returning the string.

* Open `01-Ins_Node-Check/index.js` in your IDE and explain the following point(s):

  * As expected, our application is simply a `console.log` returning a string.

  ```js
  console.log("JavaScript outside the browser?!")
  ```

* Answer any questions before proceeding to the next activity.

### 4. Students Do: Hello Node (5 mins)

* Direct students to the activity instructions in [02-Stu_Hello-Node](../../../../01-Class-Content/09-NodeJS/01-Activities/02-Stu_Hello-Node):

```md
  # Hello Node.js

  In this activity, you will write and run your first Node.js application.

  ## Instructions

  * Create a file, `index.js`, in your working directory.

  * Write JavaScript to log the string, "Hellooo, Node!".

  * Then run the program using Node from the command line.

  * Confirm that it logged the text as you would expect.

  ## Hint(s)

  * It's just JavaScript.

  ## Bonus

  * What happens when you log `window`?
```

### 5. Instructor Do: Review Hello Node (5 mins)

* Use the prompts and talking points below to review the following key point(s):

  * ‚úîÔ∏è `console.log` returns its values to the command line rather than the browser

  * ‚úîÔ∏è While we're still writing JavaScript in node, some objects and methods such as `window`, `prompt`, `alert`, and `confirm` will throw an exception when referenced because they doesn't exist in node

* Open [02-Stu_Hello-Node/Solved/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/02-Stu_Hello-Node/Solved/index.js) in your IDE and explain the following point(s):

  * We simply use `console.log` to return the string, as previously demonstrated.

  ```js
  console.log("Hellooo, Node!");
  ```

  * üîë Unlike client-side JavaScript, we _do not_ need to open dev tools in the browser. Because our run-time environment is now the command line, our application returns its results there.

* Ask the class the following question(s):

  * ‚òùÔ∏è Did anyone experiment with anything _beyond_ `console.log`? If so, what?

  * üôã Node.js is _just_ JavaScript. With some exceptions, any JavaScript we can run in the browser can also run in the command line.

  * ‚òùÔ∏è What happens when we log `window` to the console?

  * üôã We get an error, `window` is not defined in node.

* Edit [02-Stu_Hello-Node/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/02-Stu_Hello-Node/index.js) to reflect the following:

  ```js
  console.log(window);
  ```

* Run `node index.js` and point out the following: 

  * üîë We get the error, `ReferenceError: window is not defined`, when we try to print `window` to the console. This means that while we're still writing JavaScript code inside node, there are a few differences.

* Ask the class the following question(s):

  * ‚òùÔ∏è What kinds of things do we think are possible in the browser, but not possible in node?

  * üôã We can't use prompts, confirms or alerts, because we don't have a browser window.

* Edit [02-Stu_Hello-Node/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/02-Stu_Hello-Node/index.js) to reflect the following: 

  ```js
  prompt("Hello World!");
  ```

  * üîë Attempting to use `prompt` in node also results in a reference error because `prompt` is not defined in node.

  * üîë There are a few things we can do in the browser that we can't do in node, but we'll soon see that there are things we can do in node that we can't do in the browser.

* Answer any questions before proceeding to the next demo.

### 6. Instructor Do: process.argv Demo (5 mins)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è Values passed to a Node application from the command line are stored in an object property, `process.argv`

  * ‚úîÔ∏è `process.argv` is an array which allows us to access values by index

* Run [03-Ins_process.argv/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/03-Ins_process.argv/index.js) from the command line with `node`. The results will be similar to the following:

```sh
[
  '/usr/bin/node',
  '/home/jarednielsen/FullStack-Ground/01-Class-Content/09-nodejs/01-day/03-Ins_process.argv/index.js'
]
```

* Ask the class the following question(s): 

  * ‚òùÔ∏è What is returned by this application?

  * üôã Running the application returns an array.

  * ‚òùÔ∏è What are the items in the array?'

  * üôã The first item in the array is the installation location of Node itself. The second item in the array is the **absolute path** to the application.

* Run the following commands from the command line:

  * `node index.js Hello`

  * `node index.js Hello World!`

  * `node index.js "Hello World!"`

* Ask the class the following question(s):

  * ‚òùÔ∏è How does the command line input relate to the output?

  * üôã Arguments entered at the command line are added to the returned array as individual elements.

  * ‚òùÔ∏è What is happening when we wrap quotes around multiple words?

  * üôã Wrapping several words in quotes returns them as one element in the array, rather than individual elements.

  * ‚òùÔ∏è Are there any tools we currently use that are similar?

  * üôã `git` is an example of a tool that is similar to the demonstration

* Open [03-Ins_process.argv/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/03-Ins_process.argv/index.js) in your IDE and explain the following point(s):

  * üîë We store command line arguments in an object property, `process.argv`.

  ```js
  console.log(process.argv);
  ```

  * We can think of `process.argv` as the _argument values_ passed to the execution _process_ at runtime.

  * üîë Because it is an array, we can access individual arguments via index.

  ```js
  // console.log(process.argv[2]);
  ```

  * üìñ If we want to learn more, we can read the documentation for [process.argv](https://nodejs.org/api/process.html#process_process_argv)

* Ask the class the following question(s): 

  * ‚òùÔ∏è What does it mean for us if we can pass arguments to our Node application?

  * üôã We can work with those values to create dynamic, interactive applications.

* Use student answers to transition to the next activity.

### 7. Students Do: Parameter Check Activity (10 mins)

* Direct students to the activity instructions in [03-Stu_Parameter-Check](../../../../01-Class-Content/09-NodeJS/01-Activities/04-Stu_Parameter-Check):

```md
  # Parameter Check

  In this activity, you will write a Node.js command line application that accepts two arguments and returns true if the two values are equal and false if they are not.

  ## Instructions

  * Create a file, `index.js`, in your working directory.

  * Write a script using `process.argv` to accept two command line arguments and compare their values.

  ## Hint(s)

  * Start by simply logging the value of each argument to console.

  * There's more than one way to solve this problem!

  ## Bonus

  * How many ways can you solve this problem?
```

### 8. Instructor Do: Review Parameter Check Activity (5 mins)

* Use the prompts and talking points below to review the following key point(s):

  * ‚úîÔ∏è Values stored in `process.argv` are accessed by array index

  * ‚úîÔ∏è There are multiple solutiosn for any problem

* Navigate to [04-Stu_Parameter-Check/Solved](../../../../01-Class-Content/09-NodeJS/01-Activities/04-Stu_Parameter-Check/Solved/index.js) and run the following commands to demonstrate functionality of the application:

  * `node index.js 3 4`

  * `node index.js 7 7`

* Open [04-Stu_Parameter-Check/Solved/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/04-Stu_Parameter-Check/Solved/index.js) and explain the following:  

  * üîë We store the argument values stored in the process object in two variables:

  ```js
  var a = process.argv[2];
  var b = process.argv[3];
  ```

  * üîë We check the parameters using four different methods:

  ```js
  // using a conditional statement
  if (a === b) {
    console.log(true);
  } else {
    console.log(false);
  }

  //using a ternary operator
  console.log(a === b ? true : false)

  // comparing variables
  console.log(a === b);

  // comparing argument values directly
  console.log(process.argv[2] === process.argv[3]);
  ```

* Answer any questions before proceeding to the next demo.

### 09. Instructor Do: Reading Files (5 mins)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è Importing modules using `require`

  * ‚úîÔ∏è Reading files with `fs`

* Open [05-Ins_readFile/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/05-Ins_readFile/index.js) and explain the following points:

  * When we installed Node.js, we also installed its **standard library**. The standard library includes dozens of **modules** that extend the basic functionality of Node.

  * üîë In order to use a modules, we need to _import_ it into our application using `require`:

  ```js
  var fs = require("fs");
  ```

  * We import the `fs`, or **file system** module using require and store it in a variable, `fs`.

  * üìù The convention is to name variables after the module.

* Ask the class the following question(s):

  * ‚òùÔ∏è What do you think this application does?

  * üôã This application will _read a file_, `data.csv`, and will log the results stored in a variable, `data`.

  * üîë The `fs` method `readFile` accepts three arguments: 1. the file we want to read, the encoding format we want to use to read the file, and a callback.

  ```js
  fs.readFile("data.csv", "utf8", function(error, data) {

  if (error) {
    return console.log(error);
  }

  console.log(data);

  });
  ```

  * `"utf8"` is an encoding format that converts raw data into human-readable text. 
  
  * üìñ If we want to learn more about `utf8`, we can read the [Node documentation for readFile](https://nodejs.org/api/fs.html#fs_fs_readfile_path_options_callback) and the [Wikipedia article on character encoding](https://en.wikipedia.org/wiki/Character_encoding).

* Ask the class the following question(s):

  * ‚òùÔ∏è Why do you think we need to import modules if they are built-in to Node to begin with?

  * üôã We import modules into our application so that we are only loading exactly what we need. This will speed up the performance of our applications.

* Run [05-Ins_readFile](../../../../01-Class-Content/09-NodeJS/01-Activities/06-Ins_writeFile/index.js) from the command line and run `node index.js`. The results will be similar to:

```sh
10,123,76,5003,9,0.127,40,-1,2^4
```

* Edit `data.csv` to demonstrate that Node is in fact reading the file.

* Ask the class the following question(s):

  * ‚òùÔ∏è If we can _read_ files with Node, what else do you think we can do?

* Use student answers to transition to the next demo.

### 10. Instructor Do: Writing Files (5 min)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è The `fs.writeFile` method will generate non-existent files

  * ‚úîÔ∏è The `fs.writeFile` method will overwrite a file

* Open [06-Ins_writeFile](../../../../01-Class-Content/09-NodeJS/01-Activities/06-Ins_writeFile/index.js) in your IDE and explain the following:

  * We again import file system from our standard library.

  ```js
  var fs = require("fs");

  ```

  * Our code is similar, but different from the previous demo:

  ```js
  fs.writeFile("log.txt", process.argv[2], function(err) {

  if (err) {
    return console.log(err);
  }

  console.log("Success!");

  });
  ```

  * üìù There is no `.txt` file in the `06-Ins_writeFile` directory.

* Ask the class the following question(s):

  * ‚òùÔ∏è What is different about this example?

  * üôã Rather than `readFile`, we are using the `fs` method `writeFile`. Rather than specifying an encoding format, our second argument is `process.argv[2]`.

* Run the following command from the command line:

```sh
node index.js Hello
```

* Open the newly created `log.txt` and point out the following: 

  * üîë Running our application created a new file, and wrote the text 'Hello' to it. 

* Run the following command: 

```sh
node index.js World!
```

* Open `log.txt` and point out the following: 

  * üîë Running our application wrote the text 'World!' to `log.txt`. 

* Ask the class the following question(s): 

  * ‚òùÔ∏è What happens when we run our application multiple times?

  * üôã `writeFile` overwrites existing files.

  * ‚òùÔ∏è How do we think we can resolve this issue?

  * üôã We need a method that can _append_ text to files.

### 11.	Students Do: Appending Files (10 min)

* Direct students to the activity instructions found in [07-Stu_appendFile](../../../../01-Class-Content/09-NodeJS/01-Activities/07-Stu_appendFile).

```md
  # appendFile

  In this activity, you will create a "commit logger" that records commit messages (for poetic purposes) using `fs`.

  ## Instructions

  * In your working directory, create a Node application, `index.js`, that accepts a command line argument, and, each time it is run, will write the argument to file _without_ overwriting the existing text.

  * You may need to consult the Node.js `fs` documentation for the appropriate method and its usage.

  ## Hint(s)

  * If `fs.readFile` reads a file and `fs.writeFile` writes, but _overwrites_, a file, what method do you think will allow you to _append_ text to a file?

  ## Bonus

  * How would you add arguments on new lines? 
```

### 12.	Instructor Do: Review Appending Files	(5 mins)

* Use the prompts and talking points below to review the following key point(s):

  * ‚úîÔ∏è `appendFile` appends text to file rather than overwriting the file

* Run [07-Stu_appendFile/Solved/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/07-Stu_appendFile/Solved/index.js) from the command line to demonstrate the application functionality, entering commands similar to the following:

```sh
node index.js "first"
node index.js "commit early and often"
node index.js "everyone wants a log"
```

* Open `07-Stu_appendFile/log.txt` and point out the following: 

  * Our application is now adding text to our file rather than overwriting the file. 

* Open [07-Stu_appendFile/Solved/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/07-Stu_appendFile/Solved/index.js) and explain the following:

  * üîë Our application is very similar to the previous demo, but here we have refactored it to use `appendFile` rather than `writeFile`:

  ```js
  fs.appendFile("log.txt", process.argv[2] + '\n', function(err) {

    if (err) {
      console.log(err);
    }
    else {
      console.log("Commit logged!");
    }

  });
  ```

  * üìù We concatenate a new line character, `\n`, to the value stored in `process.argv[2]`.

* Ask the class the following question(s):

  * ‚òùÔ∏è How did you find the solution to this activity?"

  * üôã The solution can be easily found by searching for, and reading, the [Node.js documentation for the File System module](https://nodejs.org/api/fs.html#fs_fs_appendfile_path_data_options_callback).

### 13. Instructor Do: Modularization Using Require/Exports (05 mins)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è The Node.js standard library modules are _also_ written in JavaScript

  * ‚úîÔ∏è `module.exports`

* Navigate to the [Node.js source code for `fs`](https://github.com/nodejs/node/blob/master/lib/fs.js) in your browser. Find (CTRL + F) `appendFile` and point out the following: 

  * üîë `appendFile` is a function written in JavaScript. It even uses `fs.writeFile`! 

  ```js
  function appendFile(path, data, options, callback) {
    callback = maybeCallback(callback || options);
    options = getOptions(options, { encoding: 'utf8', mode: 0o666, flag: 'a' });

    // Don't make changes directly on options object
    options = copyObject(options);

    // Force append behavior when using a supplied file descriptor
    if (!options.flag || isFd(path))
      options.flag = 'a';

    fs.writeFile(path, data, options, callback);
  }
  ```

* Ask the class the following question(s):

  * ‚òùÔ∏è How would we extend the functionality of Node?'

  * üôã We could write our own modules!

* Run [08-Ins_Modularization/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/08-Ins_Modularization/index.js) from the command line. The output will be the following:

```sh
apple
1
```

* Open [08-Ins_Modularization/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/08-Ins_Modularization/index.js) in your IDE and explain the following:

  * We are importing a dependency, `badmath`, and logging the results of `badmath.pie` and `badmath.predictable`. 

  ```js
  var badmath = require("./badmath.js");

  console.log(badmath.pie);

  console.log(badmath.predictable());
  ```

* Open [08-Ins_Modularization/badmath.js](../../../../01-Class-Content/09-NodeJS/01-Activities/08-Ins_Modularization/badmath.js) and explain the following: 

  * We declare a `pie` and `predictable` variables:

  ```js
  var pie = "apple";

  var predictable = function(){
    return 1;
  }
  ```

  * üîë We _export_ our `pie` and `predictable` variables as an object stored in `module.exports`:

  ```js
  module.exports = {
    pie: pie,
    predictable: predictable
  };
  ```
  * üìñ If we want to learn more, we can read about it in the [module.exports documentation](https://nodejs.org/api/modules.html#modules_module_exports)

* Ask the class the following question(s): 

  * ‚òùÔ∏è What is referenced by the keyword **module**?'

  * üôã Our file, `badmath.js`. 

### 14. Students Do: Modularization (10 mins)

* Direct students to the activity instructions found in [09-Stu_maths-Module](../../../../01-Class-Content/09-NodeJS/01-Activities/09-Stu_maths-Module)

```md
  # Maths Module

  The JavaScript `Math` library contains many useful properties and methods. But it's missing a few of the basics. In this activity, you will create your own `maths` module then import it into a Node application to access its properties and methods.

  Running `node index.js sum 3 4` will return 7.

  ## Instructions

  * Create two files, `index.js` and `maths.js`, then import `maths.js` into `index.js`.

  * Write four methods for the results of the four basic mathematical operations in `maths.js`: `sum`, `difference`, `product`, and `quotient`; and then export them.

  * In `index.js`, create variables to capture the values passed from the command line in `process.argv`: `operation`, `numOne` and `numTwo`.

  * Next, write a `switch` statement that accepts an `operation` parameter.

  * Within each `case` of the `switch`, use the corresponding `maths` methods to perform the operation on the numbers taken from the command line using `process.argv`.

  ## Hint(s)

  * You will need to use `parseInt()`. But why?

  ## Bonus

  * You can also export your functions directly. How? 
```

### 15. BREAK (15 mins)

### 16. Instructor Do: Review Modularization (05 mins)

* Use the prompts and talking points below to review the following key point(s):

  * ‚úîÔ∏è Direct export of a module

* Run [09-Stu_maths-Module/Solved/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/09-Stu_maths-Module/Solved/index.js) from the command line to demonstrate the application functionality, entering commands similar to the following:

```sh
node index.js sum 3 4
node index.js difference 3 4
node index.js product 3 4
node index.js quotient 3 4
```

* Open [09-Stu_maths-Module/Solved/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/09-Stu_maths-Module/Solved/index.js) in your IDE and explain the following: 

  * We import our `maths` module and declare three variables, `operation`, `numOne` and `numTwo` to store the values passed to `process.argv` from the command line:

  ```js
  var maths = require('./maths');

  var operation = process.argv[2];

  var numOne = parseInt(process.argv[3]);
  var numTwo = parseInt(process.argv[4]);
  ```

  * üìù We use `parseInt()` to cast the values from strings to numbers.

  * We use a `switch` statement to evaluate the `operation` case and call the corresponding method from our `maths` module:

  ```js
  switch(operation) {
    case 'sum':
      console.log(maths.sum(numOne, numTwo));
      break;
    case 'difference':
      console.log(maths.difference(numOne, numTwo));
      break;
    case 'product':
      console.log(maths.product(numOne, numTwo));
      break;
    case 'quotient':
      console.log(maths.quotient(numOne, numTwo));
      break;
    default:
      console.log("Check your maths!");
  }
  ```

* Open [09-Stu_maths-Module/Solved/maths.js](../../../../01-Class-Content/09-NodeJS/01-Activities/09-Stu_maths-Module/Solved/index.js) and explain the following: 

  * üîë We export our maths methods directly by declaring them within the `exports` object: 

  ```js
  module.exports = {
    sum: function(a, b){
      return a + b;
    },
    difference: function(a, b){
      return a - b;
    },
    product: function(a, b){
      return a * b;
    },
    quotient: function(a, b){
      return a / b;
    }
  };
  ```

  * Each method accepts two parameters and returns the corresponding value.

* Answer any questions before proceeding to the next demo.

### 17. Instructor Do: npm (10 mins)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è npmjs.com

  * ‚úîÔ∏è `npm install <package-name>`

  * ‚úîÔ∏è `node_modules`

  * ‚úîÔ∏è `package.json`

* Ask the class the following question(s):

  * ‚òùÔ∏è What if we wanted to share our module with other developers?

  * üôã We _could_  host our module on GitHub, JSFiddle or Codepen. We could also compress and share our files via email or Slack. 

  * ‚òùÔ∏è What would be the downside to these approaches?

  * üôã It would be difficult for other developers to find our module and would require them to clone the GitHub repository, or copy/paste the source code, or keep track of the compressed file. If one developer updates the module, then everyone elses' code go out of sync and requires a transfer of files again.

* Run [10-Ins_npm/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/10-Ins_npm/index.js) from the command line and point out the following: 

  * Our application throws an error when we run it. 

  ```sh
  Error: Cannot find module 'badmath'
  ```

* Ask the class the following question(s): 

  * ‚òùÔ∏è Why is this application throwing an error?

  * üôã Our `badmath` module is missing! üòÆ

* Navigate to [npmjs.com](https://www.npmjs.com) and search for "badmath", then navigate to the [badmath package registry](https://www.npmjs.com/package/badmath).

* Ask the class the following question(s): 

  * ‚òùÔ∏è Do we see a solution to our missing module problem?

  * üôã Our `badmath` module is hosted on [npmjs.com](https://www.npmjs.com). We see from the documentation that we can install the module by running the following command: 

  ```sh
  npm i badmath
  ```

  * ‚òùÔ∏è What is **npm**?

  * üôã `npm` is short for **Node Package Manager**. It is both a command line utility _and_ a databse of packages. We can learn more about npm on the [npm About page](https://docs.npmjs.com/about-npm/).

  * ‚òùÔ∏è What is the `i` in `npm i badmath`?

  * üôã The `i` is short for install. When we run `npm i badmath` from the command line, we install the `badmath` module in our application. We can also use the full word, `install`, so, for example: `npm install badmath`. 

* Run `npm i badmath` from the command line and explain the following: 

  * üîë We see a progress meter when we install packages, a few warnings, and a successful install message:

  ```sh
  + badmath@1.0.1
  added 1 package from 1 contributor and audited 1 package in 0.346s
  found 0 vulnerabilities
  ```

  * üìù We must be in the working directory to install modules.

* Run [10-Ins_npm/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/10-Ins_npm/index.js) from the command line and point out the following: 

  * Our application now logs the expected values:

  ```sh
  apple
  1
  ```

* Open the [10-Ins_npm](../../../../01-Class-Content/09-NodeJS/01-Activities/10-Ins_npm) directory and point out the following: 

  * üîë Running `npm i badmath` created a `package-lock.json` file and a `node_modules` directory. 

  * The `package-lock.json` file is for keeping track of precise versions of all third-party libraries used in a project. This will be generated and updated for us automatically and we can ignore it for the most part.

* Ask the class the following question(s):

  * ‚òùÔ∏è What do we think we will find in the `node_modules` directory?

  * üôã When we open the `node_modules` directory we find a `badmath` directory. If we open the `badmath` directory, we find `index.js`.

  * ‚òùÔ∏è What do expect to find in `index.js`? 

  * üôã Our bad math!

* Open your generated `package.json` file in [10-Ins_npm](../../../../01-Class-Content/09-NodeJS/01-Activities/10-Ins_npm) in your IDE and explain the following: 

  * üîë The `package.json` file contains metadata about our module. These files serve as manifests (or guides) that completely articulate simple things like the name of the project, its description, and most importantly the packages that are being used in the project.

* Ask the class, 'How might a `package.json` file be useful in our own applications?' 

* Use student answers to transition to the next activity. 

### 18. Student Do: package.json (5 min)

* Direct students to the activity instructions in [11-Stu_package.json](../../../../01-Class-Content/09-NodeJS/01-Activities/11-Stu_package.json).

```md
# package.json

In this activity, you will install the `inquirer` package using `npm`. 

## Instructions

* Run `npm install`. 

    * üéó This needs to be your working directory. 

* What happens? How did `npm` know you wanted to install `inquirer`? Where did those additional packages come from?

## Bonus

* How would we create our own `package.json` files? 

```

### 19. Instuctor Do: package.json Review (5 min)

* Use the prompts and talking points below to review the following key point(s):

  * ‚úîÔ∏è `npm install`

  * ‚úîÔ∏è Dependency dependencies

* Navigate to [11-Stu_package.json](../../../../01-Class-Content/09-NodeJS/01-Activities/11-Stu_package.json) and run the following command: 

```
npm install
```

* Open the [11-Stu_package.json](../../../../01-Class-Content/09-NodeJS/01-Activities/11-Stu_package.json) directory and point out the following: 

  * Running `npm install` created a `node_modules` directory.

  * If we open the `node_modules` directory, we see that several packages were installed. 

* Ask the class the following question(s): 

  * ‚òùÔ∏è Where did all of these packages come from?

  * üôã When we run `npm install`, `npm` "reads" our `package.json` file and installs our application dependencies.

* Open [11-Stu_package.json](../../../../01-Class-Content/09-NodeJS/01-Activities/11-Stu_package.json) and point out the following: 

  * üîë `inquirer` is listed under `"dependencies"` in our `package.json` file.

* Open the generated `node_modules` folder inside of [11-Stu_package.json](../../../../01-Class-Content/09-NodeJS/01-Activities/11-Stu_package.json) and point out the following: 

  * Our `inquirer` package was installed as well as a several others. 

* Ask the class the following question(s): 

  * ‚òùÔ∏è Why did `npm` install more than just `inquirer`?

  * üôã The additional packages are dependencies of `inquirer`.

* Open the generated `node_modules/inquirer/package.json` file inside of [11-Stu_package.json](../../../../01-Class-Content/09-NodeJS/01-Activities/11-Stu_package.json) and point out the following: 

  * üîë Our dependency `inquirer` has quite a few of its own dependencies!

  ```js
  "dependencies": {
    "ansi-escapes": "^3.2.0",
    "chalk": "^2.4.2",
    "cli-cursor": "^2.1.0",
    "cli-width": "^2.0.0",
    "external-editor": "^3.0.3",
    "figures": "^2.0.0",
    "lodash": "^4.17.12",
    "mute-stream": "0.0.7",
    "run-async": "^2.2.0",
    "rxjs": "^6.4.0",
    "string-width": "^2.1.0",
    "strip-ansi": "^5.1.0",
    "through": "^2.3.6"
  },
  ```

* Ask the class the following question(s): 

  * ‚òùÔ∏è How would we create our own `package.json` files? 

  * üôã We _could_ write our own manually, but there's an easier way!

### 20. Instructor Do: npm init (5 min)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è `npm init`

  * ‚úîÔ∏è `npm install --save <package-name>`

* Open [12-Ins_npm-init](../../../../01-Class-Content/09-NodeJS/01-Activities/12-Ins_npm-init) and point out the following: 

  * This is the same 'application' from earlier demo, importing `badmath` and logging two values.

  ```js
  var badmath = require('badmath');

  console.log(badmath.pie);

  console.log(badmath.predictable());
  ```

* Navigate to [12-Ins_npm-init](../../../../01-Class-Content/09-NodeJS/01-Activities/12-Ins_npm-init) from the command line and run the following command: 

```sh
npm init
```

* Ask the class the following question(s):

  * ‚òùÔ∏è What is `init` short for?

  * üôã `npm init` is the command we use to _initialize_ a Node.js project

* Use the command prompts to generate a `package.json` file and explain the following: 

  * üîë `npm init` initializes a Node.js project with a `package.json` file

  * We first provide a package name. `npm` _reads_ the directory name and suggests it as the default value. We can select the default value by pressing Enter. 

  ```sh
  This utility will walk you through creating a package.json file.
  It only covers the most common items, and tries to guess sensible defaults.

  See `npm help json` for definitive documentation on these fields
  and exactly what they do.

  Use `npm install <pkg>` afterwards to install a package and
  save it as a dependency in the package.json file.

  Press ^C at any time to quit.
  package name: (12-ins_npm-init)
  ```

  * `npm` will next prompt us for a version number. We'll accept the default value. 

  ```sh
  version: (1.0.0) 
  ```

  * `npm` will next prompt us for a description. We want to be detailed with our description to help our collaborators (and future selves!) understand the application.

  ```sh
  description: Demonstration of initializing a Node.js application with npm.
  ```

  * `npm` will next prompt us for an entry point. `npm` will first look for an `index.js` file, which is the default and standard for Node applications. If it doesn't find one, it will suggest another file.

  ```sh
  entry point: (index.js) 
  ```

  * `npm` will next prompt us for a test command. We'll learn more about this later, so we'll leave it blank for the time being. 

  ```sh
  test command: 
  ```

  * `npm` will next prompt us for a the URL to the GitHub repository where this application will be hosted:

  ```sh
  git repository: https://github.com/nielsenjared/badmath
  ```

  * `npm` will next prompt us for keywords. Keywords help other developers find our module on GitHub and npmjs.com:

  ```sh
  keywords: 
  ```

  * `npm` will next prompt us for an author. 

  ```sh
  author: Dr. Seuss
  ```

  * `npm` will prompt us for a license. The default value is `ISC`, an open source, "as is" license. 
  
  ```sh
  license: (ISC)
  ```
  
  * üìñ If we want to learn more about ISC, we can read about it at the [Open Source Initiative](https://opensource.org/licenses/ISC). We can specifiy any license we want. If we want to learn more about software licenses, we can review our options on the [GitHub Help page for Licensing a repository](https://help.github.com/en/articles/licensing-a-repository)
  
  * Lastly, `npm` will display the results of our input and prompt us with the following: 

  ```sh
  About to write to /home/jarednielsen/apps/FullStack-Ground/01-Class-Content/09-NodeJS/01-Activities/12-Ins_npm-init/package.json:

  {
    "name": "12-ins_npm-init",
    "version": "1.0.0",
    "description": "Demonstration of initializing a Node.js application with npm.",
    "main": "index.js",
    "scripts": {
      "test": "echo \"Error: no test specified\" && exit 1"
    },
    "repository": {
      "type": "git",
      "url": "git+https://github.com/nielsenjared/badmath.git"
    },
    "keywords": [
      "npm",
      "demo"
    ],
    "author": "Dr. Seuss",
    "license": "ISC",
    "bugs": {
      "url": "https://github.com/nielsenjared/badmath/issues"
    },
    "homepage": "https://github.com/nielsenjared/badmath#readme"
  }

  Is this OK? (yes) 
  ```

  * When we press Enter and accept the default, `(yes)`, our `package.json` file is created. 

  * üìù `npm` automatically generated a "bugs" property and the "url" points to the Issues associated with our GitHub repository.
  
  * üìù `npm` automatically generated a "homepage" property and the value is the README of our GitHub repository.

  * üìñ If we want to learn more about `npm init`, we can read the [npmjs.com documentation on creating a package.json file](https://docs.npmjs.com/creating-a-package-json-file)

* Ask the class the following question(s): 

  * ‚òùÔ∏è But how do we add dependencies to our `package.json` file?

  * üôã We _could_ edit the `package.json` file manually. Or we could use a **flag** to instruct `npm` to add it for us.

* Run the following command from the command line: 

```sh
npm install badmath --save
```

* Open [12-Ins_npm-init/package.json](../../../../01-Class-Content/09-NodeJS/01-Activities/12-Ins_npm-init/package.json) and point out the following: 

  * üîë Using the `--save` flag when installing a module _saves_ it to our `package.json` file as a dependency.

  ```js
  "dependencies": {
    "badmath": "^1.0.1"
  },
  "devDependencies": {},
  ```

* Answer any questions before proceeding to the next activity.


### 21. Students Do: npm init (5 min)

* Direct students to the instructions in [13-Stu_npm-init]:

```md
  # npm init

  In this activity, you will initialize your first Node project using `npm` and install (and save) the `inquirer` package.


  ## Instructions

  * From the command line, run `npm init`. 

      * üéó Remember to run the command from within your working directory. 

  * Follow the prompts and enter relevant information.

  * Once your `package.json` file is created, run `npm install inquirer --save` to install our dependency.  


  ## Bonus

  * What does the `-y` flag do when running `npm init`? 

  * What does the `-g` flag do when running `npm install`? 
      
      * üéóÔ∏è With great power comes great responsibility.
```

### 22. Instructor Do: npm init Review (5 min)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è `npm init -y` generates a `package.json` file with default values

  * ‚úîÔ∏è `npm install --save` installs a module as a dependency in our `package.json` file

  * ‚úîÔ∏è `npm install --save-dev <package-name>` installs a module as a development dependency in our `package.json` file
  
  * ‚úîÔ∏è `npm install -g <package-name>` installs a module globally

  * ‚úîÔ∏è `npm uninstall` uninstalls a module. It can be combined with `-g`, `--save` and `--save-dev`.

* Ask the class the following question(s): 

  * ‚òùÔ∏è What does `npm init -y` do?

  * üôã Using the `-y`, or "yes", flag with `npm init` accepts all default options and leaves optional fields blank. 

* Run `npm init -y` from the command line and point out the following: 

  * üîë `npm init -y` accepts the default options and automagically generates a `package.json` file for us.

  * üìù `npm` does _not_ prompt us for details about our module. 

* Ask the class the following question(s): 

  * ‚òùÔ∏è How do we add dependencies, such as `inquirer`, to our `package.json`?

  * üôã We use the `--save` flag with `npm install`, so, `npm install --save inquirer`

  * ‚òùÔ∏è What does `--save-dev` do? 

  * üôã `--save-dev` installs a package as a development dependency. This is for packages that are only used locally, but won't be required when the application is deployed.

  * ‚òùÔ∏è What does the `-g` flag do when running `npm install`?

  * üôã The `-g`, or global, flag installs an npm package _globally_, meaning we can use it from any directory on our computer. By default, npm installs _locally_, or within the working directory where the command is run.

  * ‚òùÔ∏è Why would we _not_ want to install our dependencies globally by default?

  * üôã To ensure that our applications are using the correct version of a package.
  
  * ‚òùÔ∏è What are examples of packages we _would_ want to install globally?

  * üôã Developer tools that are not dependencies in our application code base.

* Run `npm install -g jshint` from the command line and explain the following: 

  * We installed `jshint` globally using the `-g` flag, meaning we can use this package in any Node application. 

* Ask the class the following question(s):

  * ‚òùÔ∏è How would we _uninstall_ a package?

  * üôã We use the command `npm uninstall` with the package name and how we want to uninstall it, i.e: a dependency (`--save`), a dev dependency (`--save-dev`) or globally (`-g`).

* Run `npm uninstall -g jshint` from the command line and explain the following: 

  * üîë We uninstalled the `jshint` package globally using `npm uninstall -g`

* Answer any questions before proceeding to the next demo.
  
  * üìñ If we want to learn more about the options available to us, we can read about them in the [`npm-install` documentation](https://docs.npmjs.com/cli/install).

### 23. Instructor Do: Inquirer Intro (5 mins)

* Use the prompts and talking points below to demonstrate the following key point(s):

  * ‚úîÔ∏è The `inquirer.prompt` method accepts an array of objects, each with `type`, `name` and `message` properties.

  * ‚úîÔ∏è The results of the `prompt` method are passed in an object as the callback parameter, `response`, in the Promise chain

* Ask the class:

  * ‚òùÔ∏è What do we think this `inquirer` package does?

  * üôã Based on the dictionary definition of _inquire_, it might be used to ask for information from someone, that someone being the user of our application.

* Navigate to [14-Ins_Inquirer-Demo](../../../../01-Class-Content/09-NodeJS/01-Activities/14-Ins_Inquirer-Demo) and install dependencies using:

  * `npm install`

* Run [14-Ins_Inquirer-Demo/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/14-Ins_Inquirer-Demo/index.js) from the command line and explain the following: 

  * Our application prompts us for a user name, a password and a confirmation. 

  * If the passwords match, the application logs "Success!".

* Open [14-Ins_Inquirer-Demo](../../../../01-Class-Content/09-NodeJS/01-Activities/14-Ins_Inquirer-Demo/index.js) in your IDE and explain the following: 

  * We require our `inquirer` dependency.

  ```js
  var inquirer = require("inquirer");
  ```

  * üîë We use the `prompt` method to _prompt_ users for input.

  ```js
  inquirer
    .prompt([
      {
        type: "input",
        message: "What is your user name?",
        name: "username"
      },
      {
        type: "password",
        message: "What is your password?",
        name: "password"
      },
      {
        type: "password",
        message: "Re-enter password to confirm:",
        name: "confirm"
      }
    ])
  ```

  * üìù Our prompts are an array of objects with `type`, `message` and `name` properties. The input of each prompt will be stored in an object property that corresponds to the `name` value. The `type` values are built in to `inquirer` and what allows us to enter _secure_ passwords.
  
  * üìù The `message` property in each object corresponds with the prompt we saw at the command line.

  * üîë Once all of the prompts are answered, we can _then_ work with the user `response`. Here, the `response` parameter in the `.then` callback corresponds with the user input, which `inquirer` store in an object. 

  ```js
    .then(function(response) {

      if (response.confirm === response.password) {
        console.log("Success!");
      }
      else {
        console.log("You forgot your password already?!");
      }
    });
  ```

  * üìù We _validate_ the users' password with a conditional statement, checking if `response.confirm` if equal to `response.password`. If so, we return "Success!". If not, "You forgot your password already?"

* Answer any questions before proceeding to the next activity.

  * üìñ If we want to learn more, we can read the [`inquirer` documentation](https://www.npmjs.com/package/inquirer)

### 24. Students Do: Inquirer User (20 mins)

* Run [15-Stu_Inquirer-Users/Solved/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/15-Stu_Inquirer-Users/Solved/index.js) from the command line to demonstrate the application functionality and point out the following: 

  * We are prompted for our name.

  * We are then prompted for the langauges we know. Using the space bar, we can select multiple options. 

  * We are prompted for our preferred method of communication. Unlike the previous prompt, we can only select one option. 

  * After all prompts are entered, a `json` file is created from the name we entered at the prompt, for example: `adalovelace.json`

* Direct students to the activity instructions in [15-Stu_Inquirer-Users](../../../../01-Class-Content/09-NodeJS/01-Activities/15-Stu_Inquirer-Users):

```md
  # Inquirer Users

  In this activity, you will build a simple command line application that accepts user input and writes it to a `.json` file. 

  ## Instructions

  * Initialize your repository and install the `inquirer` dependency.

      * Is there another dependency you will need? 

  * Prompt your user with the following questions:

      * "What is your name?"

      * "What languages do you know?"

      * What is your preferred method of communciation?"

  * Then write the user response to a file. 

  ## Hint(s)

  * You will need to use `JSON.stringify()`.

  * You will need to consult the `inquirer` documentation on how to prompt users for checkboxes and lists.


  ## Bonus

  * How would you format your JSON?

  * Can you generate the name of your user file from their input?
```

### 25. Instructor Do: Review Inquirer User Activity (5 mins)

* Use the prompts and talking points below to review the following key point(s):

  * ‚úîÔ∏è Our application requires two dependencies, one third-party (`inquirer`) the other standard library (`fs`).

  * ‚úîÔ∏è We use two new `type` properties to prompt our user for a `"checkbox"` and a `"list"`, both of which require a `choices` property and a corresponding array of options.

  * ‚úîÔ∏è We use the `JSON.stringify` optional `replacer` (`null`) and `space` (`\t`) parameters to format our `data` object with pretty-print appearance. 

* Open [15-Stu_Inquirer-Users/index.js](../../../../01-Class-Content/09-NodeJS/01-Activities/15-Stu_Inquirer-Users/index.js) in your IDE and explain the following: 

  * üîë Our application requires two dependencies, one third-party (`inquirer`) the other standard library (`fs`).

  ```js
  var inquirer = require("inquirer");
  var fs = require('fs');
  ```

  * üîë We use two new `type` properties to prompt our user for a `"checkbox"` and a `"list"`, both of which require a `choices` property and a corresponding array of options.

  ```js
  inquirer.prompt([
    {
      type: "input",
      name: "name",
      message: "What is your name?"
    },
    {
      type: "checkbox",
      message: "What languages do you know?",
      name: "stack",
      choices: [
        "HTML", 
        "CSS", 
        "JavaScript", 
        "MySQL"
      ]
    },
    {
      type: "list",
      message: "What is your preferred method of communication?",
      name: "contact",
      choices: [
        "email",
        "phone",
        "telekinesis"
      ]
    }
  ])
  ```

  * We pass the output of the `prompt` method to our Promise callback as `data`.
  
  ```js
  ]).then(function(data) {
  ```

  * üìù We named this parameter `response` in the demo, but we can call it anything, as long as it follows best-practices and is descriptive.

  * ü§ì We create a `filename` variable by converting the value in `data.name` to lowercase, removing any spaces using `split(' ')` and then joining the split values back together without spaces using `.join('')`. We concatenate this value with `".json"` to add a file extension.

  ```js
    var filename = data.name.toLowerCase().split(' ').join('') + ".json";
  ```

  * üîë We use the `fs.writeFile` method to create a new file using our `filename` variable. We use the `JSON.stringify` optional `replacer` (`null`) and `space` (`\t`) parameters to format our `data` object with pretty-print appearance.

  ```js
    fs.writeFile(filename, JSON.stringify(data, null, '\t'), function(err) {

      if (err) {
        return console.log(err);
      }

      console.log("Success!");

    });
  });
  ```

  * Answer any questions before class end.

    * üìñ If we want to learn more about JSON.stringify, we can read the [MDN documentation for JSON.stringify()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify).

### 26. END (0 mins)

### Lesson Plan Feedback

How did today‚Äôs lesson go? Your feedback is important. Please take 5 minutes to complete this anonymous survey.

[Class Survey](https://forms.gle/nYLbt6NZUNJMJ1h38)
