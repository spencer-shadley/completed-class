## 19.1 - Intro to React, Components and JSX

- **Important:** In order to avoid continuous NPM installs, all of today's activity Solved and Unsolved versions include only a `src` directory. Students and yourself should scaffold out a React app once with Create React App, and then swap out the `src` directory for each activity. It's recommended that you completely restart the dev server between activities.

### Ins: Go Through Slides

- 630-45 (15 min)

- this will be a small and gentle intro to react. We will continue building on it for three weeks

- it is a new syntax which will take some time to get used to

- like with most things in class, React is massive and we can't cover all of it. We will give you an introduction and you can self-research to gain further mastery. Consider each of the things we cover the tip of an iceberg.

### Partners: 1-Stu_DocumentationQuestions

- 645-7 (15 min)

- setup and research for react

- The first task in this assignment instructs them to install Create React App if they haven't already. Instructional staff should be walking around offering assistance with the research questions, as well as the installation process (which should be fairly straight forward).

- Have them work with one another on answering the questions listed using the React.js documentation. Have them divide up the work the questions among teammates, and discuss answers afterwards rather than going through them all one at a time together.

- Let them know that going through the official documentation may feel challenging at first, but encourage them to revisit it again after todays class. Once they have a basic understanding of React, they should find that the React documentation is some of the best there is for any library.

- Encourage them to take this task seriously as it will help them gain a basic sense of things.

### Ins: Review

- 7-10 (10 min)

- `create-react-app` is a way to easily setup a starter react project that we'll be using

- Scroll through the documentation as we go over the below

- Declaritive vs imperative programming paradigms

  - Declaritive

    - expresses the logic of a computation without describing its control flow

    - draw me a cat - I don't care how you draw it, I just want a cat

    - SQL is an example

    - focuses on the what

  - Imperative

    - uses statements that change a programâ€™s state

    - imperative programming is like a lesson on how to draw a cat - put the brush down gently, make three strokes for whiskers, etc.

    - focuses on the how

  - React declares that something should be drawn, not how to go update the DOM

    - think of what you want to display, rather than how you want to display it

- Component based

  - A component is a small chunk of UI

  - demo [Tableau Online](https://us-west-2a.online.tableau.com/t/alpodev/authoring/Anime/Trends?:jsdebug=true) with the React dev tools on the data tab

    - draw a component tree

  - It's a way to break down our apps into many smaller re-usable pieces

    - it's much easier to reason about when things are nice and small

    - also testable and re-usable

  - Encapsulation

    - React is built using encapsulated components (manage their own internal state, others don't need to know about it)

- JSX

  - https://www.reddit.com/r/ProgrammerHumor/comments/e9ua4n/im_sure_some_of_you_will_react_to_this/

  - https://reactjs.org/docs/introducing-jsx.html

  - Babel compiles it to normal JavaScript with strings and objects

- Stateful

  - kind of like a model, there is some state that represents the application. Given state (and props) you can deterministically produce a component. The state is the "current" and "changing" part of the application.

- Props

  - The immutable (cannot change) properties of an application

### Ins: Demo Create React App

- 710-24 (14 min)

- demo component updating, only a small part of the DOM changes

  - let's us think about what the UI should look like, not how to change it from one state to another

  - timer example

- `create-react-app react-practice`

  - show output

  - Facebook made jest, it is their default testing here

- `npm run start`

  - open http://localhost:3000

  - starts react in development mode

- `src`

  - babel looks at this to combine into `bundle.js` using webpack (show with network)

  - execution begins at `src/index.js`

    - `React.StrictMode` is like 'use strict' - it adds checks like deprecated usages

    - we will ignore service worker for now just for the sake of simplicity

    - see how we are importing an `App` component and rendering that

      - if we go there and change something it will auto-reload (webpack)

- `public`

  - it already has nice things like a favicon, manifest and robots

  - `index.html` has a `#root` element

    - this is where our app is rendered into (see `index.js`)

- we'll run this script dozens of times in this class and will add to the `src` directory

### Partners: 02-Stu_HelloReact

- 724-39 (15 min)

- now that we have a basic understanding of react, you're going to dissect some example code and answer questions about it

### Ins: Review

- 739-49 (10 min)

- `index.js`

  - `<App />` is JSX

  - we're using the `ReactDOM` util to render our app into the root element found in `public/index.html`

- `App.js`

  - Could rewrite as functional component

    ```js
    function App() {
      return <HelloReact />;
    }
    ```

  - add basic HTML in JSX, but we have to wrap it in a single exported element

    ```js
    class App extends React.Component {
      render() {
        return (
          <div>
            <HelloReact />
            <p>hi</p>
          </div>
        );
      }
    }
    ```

- `HelloReact.js`

  - We need to import `React` to use JSX

- `index.js`

  - rewrite this to be inlined

  - As we'll see a bit later, ES2015 modules allow for finer tune control over what is exported and imported from a module. For now just compare the new syntax to what they're used to.

- ### Stu: HelloDiv

- 749-59 (10 min)

- In this activity students will write a React component that displays their name and some information about themselves.

### Ins: Review

- 759-804 (5 min)

- Make sure everyone understands the following concepts:

  - `HelloDiv` is exported and rendered inside of `App`.

  - `App` is exported and then rendered inside of `index.js` as the first argument to the `ReactDOM.render` method.

  - The second argument to the `ReactDOM.render` method is the real DOM element that our React application should be rendered inside of.

  - `HelloDiv`, like most components we'll write, is a JavaScript function; it returns some JSX.

        - Some students may have an error when they tried to render multiple JSX elements. Explain that _normally_, we aren't able to render multiple JSX elements from a component without an enclosing parent tag.

    - This may seem strange at first, but if we think about our component in the same way we think about any other JavaScript function, it makes perfect sense: a JavaScript function can only return one value. To have separate groups of JSX being returned outside of a parent element would be like trying to write a JavaScript function that returns multiple different variables at once.

  - **Note:** With the release of React 16, we _do_ have another option for returning multiple JSX elements from a component: we can return an array.

    - Based on your students' level of understanding and comfort so far, you may want to skip over explaining this as there aren't any activities or use cases we'll run into where understanding this pattern is required.

    - If you choose to proceed, the `HelloDiv` component can also be written as follows:

    ```js
    function HelloDiv() {
      return (
        (<h1>Hey guys! I'm a header!</h1>),
        (<h2>Things I like!</h2>),
        (
          <ul>
            <li>Peas</li>
            <li>Carrots</li>
            <li>Love</li>
          </ul>
        )
      );
    }
    ```

### BREAK

- 804-19 (15 min)

### Ins: Hello Bootstrap

- 819-29 (10 min)

- So far we've only just begun to work with React but we've still managed to learn a few key things:

  - In React, we structure our code into components.

  - A component is a JavaScript function that describes some part of our application's UI.

  - Inside of our components, we describe our application's UI using JSX: a markup syntax that resembles HTML.

- Explain that we're now going to go over how we can add Bootstrap to a React project.

- Replace your React application's src directory with [06-Ins_HelloBootstrap/src].

  - Explain to the class that the rendered elements in this example are using Bootstrap classes.

  - Without going into the component code yet, assure everyone that all of the React code is correct. Ask the class: Why then isn't my page rendering Bootstrap elements? What did I forget?

    - We need to include Bootstrap into our project somehow.

    - Open up the example in your code editor and ask the class: What should I do to if I wanted to add Bootstrap using a CDN?

      - So you don't have to go looking for it: `<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css"/>`

      - Try to get the class to lead you to the `index.html` file inside of the `public` directory. Ask them: Where should I put this link? Remind them that earlier we mentioned there was a directory where we keep static assets we don't want to be processed.

      - We can add our Bootstrap CDN to `public/index.html` in the Create React App generated code in order to include Bootstrap for all of our components. After adding the CDN, go back to your web browser and demonstrate the updated page.

    - Now open up the `components/HelloBootstrap.js` file and demonstrate the code. The JSX code being rendered is close to the HTML we'd use to render the same Bootstrap elements without React.

  - Ask the class: can anyone spot the key difference between this JSX and the HTML we'd normally write?

  - `className` is used instead of `class`. Explain that this is because in JavaScript, `class` is a reserved word, similar to `var` or `for` or `function`.

    - Explain that there are other differences between HTML and JSX which we'll run into soon.

  - Remind students that JSX isn't HTML, so there are a few caveats. JSX is sugar syntax for calls to the `React.createElement` method, and according to [Facebook's React Docs](https://facebook.github.io/react/docs/introducing-jsx.html#specifying-children-with-jsx): "JSX is closer to JavaScript than HTML".

### Stu: Hello Bootstrap

- 829-39 (10 min)

- In this activity, students will be given slightly less starter code and tasked with creating a React application which renders Bootstrap components to the page.

### Ins: Review

- 839-? (? min)

- The most important takeaways are:

- If we want to render multiple JSX elements, they should be contained within a single parent element, such as a `div`.

- Void elements, such as `input` tags, are represented by JSX tags with a self-closing forward slash, i.e. `<input />`.

- We need to import the `react` library anywhere that we are utilizing JSX.

- We use `className` instead of `class` because `class` is a reserved word in JavaScript.

- Take a few moments to demonstrate the [Bonus Solution]. The rendered page should be the same, so you only need to walk demonstrate the code in your editor.

  - The main takeaway here is that we can define our components in different files and compose multiple components inside of another component (`Navbar`, `Jumbotron`, and `Card` are rendered inside of `App`).

    - This is powerful because it begins to demonstrate the potential for code reuse. Instead of having to rewrite every UI element from scratch using individual HTML tags, we could write a component once and reuse it across our entire application.

### Ins: JSX Variables

- 839-(8 min)

- Replace your React app's `src` directory with [19-Ins_JSXVariables/src]. Stop the dev server if it is already running. Start the app in dev mode by running `npm run watch`.

- Once the app starts, open [localhost:3000](http://localhost:3000) in your web browser.

  - Point out that the HTML code being rendered to the browser isn't much different than the code we've already worked with. At first glance, it doesn't appear as though we're doing anything new.

- Open `src/components/JSXVariables.js` and walk the class through the code.

  - Point out the following key points:

  - We can write comments inside of our JSX using JavaScript's multi-line comment syntax inside of curly braces. If we were to try and write regular JavaScript comments inside of our JSX, the code would break.

  - In addition to being able to write comments inside of the curly braces, we can also embed JavaScript expressions. This works similarly to the `{{ }}` double curly braces we've worked with in Handlebars.

    - We use the `name`, `num1`, and `num2` variables inside of our JSX code. Try updating the `name` variable and demonstrating to the class how when the page refreshes, we have the updated name being rendered.

    - Rendering `name` is a fairly simple example, but we can also evaluate entire expressions inside of JSX curly braces. Point out how we're producing random numbers and reversing `name` further down below.

      - Explain that an expression is any valid set of literals, variables, operators, and expressions that evaluates to a single value. In other words, anything we can assign to a variable or pass as a function argument is an expression. This doesn't include loops or conditionals, which we have various ways to deal with that we'll go over later.

    - Explain that these curly braces are how we get data from our JavaScript code into the views React renders.

      - Point out that this is different from jQuery or vanilla JavaScript where we have to call methods to explicitly set the inner text of an element.

    - Remind everyone that when we were working with Handlebars, we couldn't write raw JavaScript code inside of the `{{}}` double curly braces. Instead we had to use the Handlebars templating language which only exposed certain functionality. Since what we're writing inside of the JSX curly braces is just regular JavaScript, we have access to the full power of JavaScript inside of our views.

- ### Stu: JSX Variables

- (10 min)

- In this activity students will render JavaScript expressions inside of JSX curly braces.

### Ins: Review

- (5 min)

- Make sure everyone understands that when we use JSX curly braces, it means we want to evaluate a JavaScript expression inside. The final value of the expression will be rendered to the page.

### Ins: 08-Ins_CSSDemo

- (10 min)

- Inform the class that now we're going to talk about some new built-in options for styling our components.

- Replace your React app's `src` directory with [08-Ins_CSSDemo/src]. Stop the dev server if it is already running. Start the app in dev mode by running `npm run watch`.

- Open your browser to [localhost:3000](http://localhost:3000) and demonstrate the rendered application.

  - Explain that Create React App allows us to import CSS into our components. Open the `Header` component to demonstrate this.

  - Point out that we aren't saving the stylesheet to a variable. Instead, whenever we import a stylesheet, an internal style tag is created and added to the document.

- Demonstrate how the `Header` is using the classes defined in the `Header.css` stylesheet it's importing.

  - This approach may be a good idea if we want to keep our component more closely coupled to its styles. Ask the class: How many times have you been working on a project or homework assignment and had a CSS issue because of CSS that was a little messy?

- By separating our CSS files by component, we'll generally have smaller, more manageable stylesheets. Adding new styles or changing existing ones should be easier as our applications grow larger.

- Explain that we are also able to add inline styles to JSX elements. Open the `Card` component to demonstrate this.

  - Point out that we can set a `style` similarly to how we can when writing regular HTML code, but with two key differences. Ask the class: What's happening inside of our JSX that we wouldn't do with regular HTML?

  - React expects the `style` property to be an object, rather than a string.

  - We're using JSX curly braces to embed the style object.

- Point out that the object properties are camelCased and non-numerical values are strings. Numerical values will default to pixels if a unit of measurement is expected.

- Explain that writing inline styles with JavaScript objects may feel a little strange, but this has some advantages over using actual stylesheets:

  - Using a `style` property, our styles are scoped to the components they're attached to, meaning we won't have any issues with CSS scoping or naming collisions.

  - Because our styles are defined using a JavaScript, we can can write JavaScript logic to determine what our styles should be at any given point. This will be useful as we begin to build more dynamic apps.

- Explain that we could define our component's styles inside of a CSS stylesheet, we could use inline styles, or we could use some mixture of the two.

  - It's up to us to decide how we want to organize our component styles, but there is value in being consistent in whichever approach or hybrid approach we take.

### Stu: 22-Stu_StyleProp

- (10 min)

- In this activity students will change the appearance of an application's components using inline styles.

- If any time remains go over the [solution] to the previous activity.

- Listed below are sections of the React Documentation that pertain to today's lesson. All are short reads, encourage students to browse through these resources to help reinforce the concepts covered today.

  - [Hello World](https://facebook.github.io/react/docs/hello-world.html)

  - [Introducing JSX](https://facebook.github.io/react/docs/introducing-jsx.html)

  - [Rendering Elements](https://facebook.github.io/react/docs/rendering-elements.html)

  - [Components and Props](https://facebook.github.io/react/docs/components-and-props.html)
